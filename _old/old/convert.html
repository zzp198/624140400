<script src="https://unpkg.com/image-conversion@2.1.1/build/conversion.js"></script>

<input type="file" id="upload" accept="image/webp">
<img id="convertedImage" alt="Converted PNG Image" style="max-width: 500px;">

<script>
  document.getElementById('upload').addEventListener('change', async function(event) {
    const file = event.target.files[0];
    if (file && file.type === 'image/webp') {
      const blob = await imageConversion.compressAccurately(file, { type: 'image/png' }); // 压缩不是转码，被骗了
      const url = URL.createObjectURL(blob);
      document.getElementById('convertedImage').src = url;
    } else {
      alert('Please upload a WEBP image.');
    }
  });
</script>
